<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="index">
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search">
        </div>
        <div class="search-info"></div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the SilkCloud Commerce Platform.</p>

<h1 id="overview">Overview</h1>

<h1 id="api-reference">API Reference</h1>

<p>Here are the resources supported by SilkCloud.</p>

<ul>
<li><a href="api-docs/countries.html">Countries</a></li>
<li><a href="api-docs/currencies.html">Currencies</a></li>
<li><a href="api-docs/locales.html">Locales</a></li>
</ul>

          <h1 id="getting-started">Getting Started</h1>

<h2 id="determine-the-environment">Determine the Environment</h2>

<p>There are two main environments in the commerce system:</p>

<ul>
<li>Sandbox Environment. This environment is for integration testing. Testers can try the APIs in the sandbox environment. No real transactions will happen by calling to the sandbox environment. The data in the sandbox environment is fake/mock data.</li>
<li>Production Environment. This environment is for the production. Any call to this environment is a real transaction.</li>
</ul>

<p>To get started, you can use Sandbox Environment. The URLs for the environments are listed below:</p>

<table><thead>
<tr>
<th>Environment</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>Sandbox</td>
<td>TBD https://apis.sandbox.silkcloud.com/</td>
</tr>
<tr>
<td>Production</td>
<td>TBD https://apis.silkcloud.com/</td>
</tr>
</tbody></table>

<h2 id="obtaining-the-app-client">Obtaining the App Client</h2>

<p>The commerce platform uses the OAuth 2.0 as the authorization protocol. In OAuth 2.0, any code calling the APIs are called a client. Clients must be registered first in order to make an API call. After registering, the client gets back their OAuth client ID and client secret. (TBD: Identify client using certificate)
You can start with the following test client ID for sandbox environment while applying for your new client ID. This test client ID has all normal permissions to all APIs. After obtaining the client ID for your application, please switch to validate the permissions you get can still make the calls.</p>

<table><thead>
<tr>
<th>Test Client ID</th>
<th>Client Secret</th>
</tr>
</thead><tbody>
<tr>
<td>test_csr</td>
<td>weakClientSecret123</td>
</tr>
<tr>
<td>test_first_party_backend</td>
<td>weakClientSecret123</td>
</tr>
<tr>
<td>test_first_party_client</td>
<td>weakClientSecret123</td>
</tr>
<tr>
<td>test_first_party_server</td>
<td>weakClientSecret123</td>
</tr>
<tr>
<td>test_super_client</td>
<td>weakClientSecret123</td>
</tr>
<tr>
<td>test_third_party_backend</td>
<td>weakClientSecret123</td>
</tr>
<tr>
<td>test_third_party_client</td>
<td>weakClientSecret123</td>
</tr>
<tr>
<td>test_third_party_server</td>
<td>weakClientSecret123</td>
</tr>
</tbody></table>

<p>The difference of first-party vs third-party is TBD. Weâ€™ll first let first-party call almost all APIs to enable implementing the single-page frontend web applications.</p>

<p>To get your own application client ID, refer to the following section: TBD</p>

<h2 id="making-api-calls">Making API Calls</h2>

<p>In the getting started section, we will demonstrate how to get the user information. We will use the test_first_party_client as the OAuth client ID.</p>

<p>Note: This section assumes the user login portal is already available. How to write a login portal is covered in TBD.</p>

<h2 id="sign-in-the-user">Sign-in the User</h2>

<p>Let the user sign-in and get the OAuth authorization code.</p>

<p><code class="prettyprint">
curl -X POST --max-redirs 0 \
     &quot;$baseUri/oauth2/authorize?client_id=test_first_party_client&amp;redirect_uri=http://localhost/some_sample_page&amp;response_type=code&quot;
</code></p>

<p><strong>Note</strong>: /authorize is not a typical REST API according to OAuth protocol.</p>

<p>In the curl command:</p>

<ul>
<li>$baseUri should be replaced with the URL of your target environment. For sandboxing environment, the value is https://apis.sandbox.silkcloud.com/</li>
<li>The client_id is specified in the request. You will need to use the client secret in of the specified client_id in order to get the access token.</li>
<li>The redirect_uri in the request determines how the auth flow will respond to you when then authorization flow has finished. The browser will redirect to the redirect_uri when the flow finishes, with the auth code in the query string. For example:

<ul>
<li>Response Code: 302</li>
<li>Location: <code class="prettyprint">http://localhost/some_sample_page?code=someBase64AuthCode</code></li>
</ul></li>
<li>A special redirect_uri can be specified to get a json object (maybe after some 302 redirects). For example:

<ul>
<li>Response Code: 200</li>
<li>Payload: </li>
</ul></li>
</ul>

<p><code class="prettyprint">HTTP/1.1 200 OK</code>
<code class="prettyprint">Content-Type: application/json</code>
<code class="prettyprint">Cache-Control: no-store</code>
<code class="prettyprint">Pragma: no-cache</code>
`<code class="prettyprint">
</code>{<code class="prettyprint">
</code>    &ldquo;code&rdquo;: &ldquo;someBase64AuthCode&rdquo;<code class="prettyprint">
</code>}`</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
